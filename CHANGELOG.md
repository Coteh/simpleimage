# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [1.5.6] - 2022-12-31

### Changed

- Bump @sentry/browser from 7.23.0 to 7.28.1 by @dependabot in #572
- Bump mocha from 10.1.0 to 10.2.0 by @dependabot in #562
- Bump json5 from 2.1.3 to 2.2.2 by @dependabot in #575
- Bump @sentry/tracing from 7.24.2 to 7.28.1 by @dependabot in #576
- Bump cypress-real-events from 1.7.4 to 1.7.6 by @dependabot in #577

### Removed

- Error style in upload preview element when selecting a new image by @Coteh in #574

## [1.5.5] - 2022-12-21

### Added

- Ability to return low resolution images by @Coteh and @mayankbucha in #553
- Deploy to Fly GitHub Actions pipeline by @Coteh in #571
- CodeQL workflow for GitHub code scanning by @lgtm-com in #522

### Changed

- Bump mocha from 9.2.2 to 10.1.0 by @dependabot in #495
- Bump sinon from 13.0.2 to 14.0.1 by @dependabot in #481
- Bump ejs-lint from 1.2.2 to 2.0.0 by @dependabot in #494
- Bump @sentry/tracing from 6.19.7 to 7.17.4 by @dependabot in #508
- Bump @sentry/browser from 6.19.7 to 7.17.4 by @dependabot in #507
- Bump mocha-junit-reporter from 2.1.0 to 2.1.1 by @dependabot in #510
- Bump @sentry/webpack-plugin from 1.19.1 to 1.20.0 by @dependabot in #511
- Bump cypress from 10.10.0 to 10.11.0 by @dependabot in #512
- Bump mongoist from 2.5.5 to 2.5.6 by @dependabot in #513
- Bump @sentry/browser from 7.17.4 to 7.18.0 by @dependabot in #514
- Bump chai from 4.3.6 to 4.3.7 by @dependabot in #517
- Bump sinon from 14.0.1 to 14.0.2 by @dependabot in #518
- Bump loader-utils from 2.0.0 to 2.0.3 by @dependabot in #519
- Bump @sentry/tracing from 7.17.4 to 7.18.0 by @dependabot in #516
- Bump webpack from 5.74.0 to 5.75.0 by @dependabot in #525
- Bump cypress-real-events from 1.7.2 to 1.7.4 by @dependabot in #526
- Bump @sentry/tracing from 7.18.0 to 7.19.0 by @dependabot in #527
- Bump @sentry/browser from 7.18.0 to 7.19.0 by @dependabot in #528
- Bump mocha-junit-reporter from 2.1.1 to 2.2.0 by @dependabot in #529
- Bump express-rate-limit from 6.6.0 to 6.7.0 by @dependabot in #531
- Bump loader-utils from 2.0.3 to 2.0.4 by @dependabot in #532
- Bump @sentry/browser from 7.19.0 to 7.20.0 by @dependabot in #535
- Bump @sentry/tracing from 7.19.0 to 7.20.0 by @dependabot in #536
- Bump @sentry/tracing from 7.20.0 to 7.20.1 by @dependabot in #537
- Bump @sentry/browser from 7.20.0 to 7.20.1 by @dependabot in #538
- Bump @sentry/tracing from 7.20.1 to 7.21.0 by @dependabot in #539
- Bump prettier from 2.7.1 to 2.8.0 by @dependabot in #542
- Bump @sentry/browser from 7.20.1 to 7.21.0 by @dependabot in #541
- Bump @sentry/tracing from 7.21.0 to 7.21.1 by @dependabot in #543
- Bump @sentry/browser from 7.21.0 to 7.21.1 by @dependabot in #544
- Bump @sentry/browser from 7.21.1 to 7.22.0 by @dependabot in #549
- Bump @sentry/tracing from 7.21.1 to 7.22.0 by @dependabot in #550
- Bump @sentry/browser from 7.22.0 to 7.23.0 by @dependabot in #551
- Bump @sentry/tracing from 7.22.0 to 7.23.0 by @dependabot in #552
- Bump prettier from 2.8.0 to 2.8.1 by @dependabot in #556
- Bump @sentry/tracing from 7.23.0 to 7.24.2 by @dependabot in #557
- Bump qs from 6.5.2 to 6.5.3 by @dependabot in #558

## [1.5.4] - 2022-11-05

### Added

- Info label to homepage detailing limits of image upload by @Coteh in #509

## [1.5.3] - 2022-10-31

### Added

- Set file size limit for images by @Coteh in #499

### Changed

- Move simpleimage from Heroku to Fly by @Coteh in #488
- Bump terser from 5.12.1 to 5.14.2 by @dependabot in #439
- Bump webpack-cli from 4.9.2 to 4.10.0 by @dependabot in #459
- Bump ejs from 3.1.7 to 3.1.8 by @dependabot in #462
- Bump winston-mongodb from 5.0.7 to 5.1.0 by @dependabot in #464
- Bump cypress from 10.1.0 to 10.8.0 by @dependabot in #466
- Bump winston from 3.7.2 to 3.8.2 by @dependabot in #463
- Bump dotenv from 16.0.0 to 16.0.2 by @dependabot in #469
- Bump @sentry/webpack-plugin from 1.18.9 to 1.19.0 by @dependabot in #470
- Bump prettier from 2.6.2 to 2.7.1 by @dependabot in #471
- Bump mongoist from 2.5.4 to 2.5.5 by @dependabot in #473
- Bump webpack from 5.72.0 to 5.74.0 by @dependabot in #474
- Bump express-rate-limit from 6.4.0 to 6.6.0 by @dependabot in #475
- Bump got and nodemon by @dependabot in #467
- Bump express-session from 1.17.2 to 1.17.3 by @dependabot in #476
- Bump mocha-junit-reporter from 2.0.2 to 2.1.0 by @dependabot in #484
- Bump body-parser from 1.20.0 to 1.20.1 by @dependabot in #485
- Bump cypress from 10.8.0 to 10.9.0 by @dependabot in #486
- Bump dotenv from 16.0.2 to 16.0.3 by @dependabot in #487
- Bump express from 4.18.1 to 4.18.2 by @dependabot in #489
- Bump cypress from 10.9.0 to 10.10.0 by @dependabot in #492
- Bump @sentry/webpack-plugin from 1.19.0 to 1.19.1 by @dependabot in #493

## [1.5.2] - 2022-06-21

### Changed

- Bump express from 4.18.0 to 4.18.1 by @dependabot in #414
- Bump nodemon from 2.0.15 to 2.0.16 by @dependabot in #416
- Upgrade Cypress to v10, replace cypress-file-upload with selectFile, replace bcrypt with bcryptjs by @Coteh in #426


## [1.5.1] - 2022-05-01

### Added

- More logs for user login, to print the username being logged in by @Coteh in #266

### Changed

- Bump husky from 7.0.2 to 7.0.4 by @dependabot in #376
- Bump proxyquire from 2.0.1 to 2.1.3 by @dependabot in #241
- Bump copy-webpack-plugin from 6.0.3 to 6.4.1 by @dependabot in #242
- Bump mongoist from 2.5.3 to 2.5.4 by @dependabot in #370
- Bump mocha-junit-reporter from 1.23.3 to 2.0.2 by @dependabot in #379
- Bump pretty-quick from 3.1.2 to 3.1.3 by @dependabot in #378
- Bump winston-mongodb from 4.0.9 to 5.0.7 by @dependabot in #381
- Bump body-parser from 1.18.2 to 1.20.0 by @dependabot in #382
- Bump dotenv from 9.0.2 to 16.0.0 by @dependabot in #384
- Bump express-rate-limit from 5.1.1 to 6.3.0 by @dependabot in #383
- Bump sinon from 9.0.2 to 13.0.2 by @dependabot in #371
- Bump mocha from 7.2.0 to 9.2.2 by @dependabot in #375
- Bump webpack-cli from 3.3.12 to 4.9.2 by @dependabot in #374
- Bump webpack from 4.46.0 to 5.72.0 by @dependabot in #385
- Bump express from 4.16.2 to 4.17.3 by @dependabot in #392
- Bump winston from 3.3.3 to 3.7.2 by @dependabot in #391
- Bump html-entities from 2.3.2 to 2.3.3 by @dependabot in #387
- Bump session-file-store from 1.2.0 to 1.5.0 by @dependabot in #390
- Bump chai from 4.2.0 to 4.3.6 by @dependabot in #398
- Bump cypress from 9.1.1 to 9.5.4 by @dependabot in #388
- Bump ejs from 2.5.7 to 3.1.6 by @dependabot in #399
- Bump ejs from 3.1.6 to 3.1.7 by @dependabot in #404
- Bump express-rate-limit from 6.3.0 to 6.4.0 by @dependabot in #405
- Bump pixelmatch from 5.2.1 to 5.3.0 by @dependabot in #406
- Bump cypress from 9.5.4 to 9.6.0 by @dependabot in #408
- Bump express from 4.17.3 to 4.18.0 by @dependabot in #409
- Bump @sentry/browser from 6.19.6 to 6.19.7 by @dependabot in #410
- Bump @sentry/webpack-plugin from 1.18.8 to 1.18.9 by @dependabot in #411
- Bump @sentry/tracing from 6.19.6 to 6.19.7 by @dependabot in #412

### Fixed

- Delete images prompt is not centered #278 by @alvarotorrestx in #281
- Overlay and notification box centering by @Coteh in #413

## [1.5.0] - 2022-04-17

### Changed

- Refactor routes so they are split into separate files by @Coteh in #372
    - /users route now has aliases /user and /u, user check moved into user subrouter
    - /images route now has aliases /image and /i
    - /check_username is now /check/username
    - /change_password is now /settings/change_password
    - Add middleware for session handler
    - Break out other middlewares into their own files
    - Add option to run Node.js debugger on integ/unit tests
- Update Sentry dependencies to latest by @Coteh in #367
- Bump minimist from 1.2.5 to 1.2.6 by @dependabot in #368
- Bump prettier from 2.4.1 to 2.6.2 by @dependabot in #364
- Bump validator from 9.4.1 to 13.7.0 by @dependabot in #329
- Bump express-session from 1.15.6 to 1.17.2 by @dependabot in #245
- Bump bcrypt from 5.0.0 to 5.0.1 by @dependabot in #234
- Bump nodemon from 1.19.4 to 2.0.15 by @dependabot in #373
- Bump multer from 1.3.0 to 1.4.4 by @dependabot in #344

## [1.4.0] - 2022-03-25

### Added

- Username auto fill in registration box if entered in login box by @toth2000 in #285
- Placeholder image that is displayed when direct link is used for image that does not exist by @Coteh in #290
- Evaluation Mode (#251) by @mayankbucha in #288
- Add Sentry to frontend by @Coteh in #296
- Image thumbnails to user comments section by @Coteh in #298
- Gitpod support by @Coteh in #305
- Prettier (for code formatting) by @Coteh in #315
- Cypress tests by @Coteh in #361

### Changed

- Allow session secret to have a default value in dev and in test by @Coteh in #282
- Bump winston from 3.2.1 to 3.3.3 by @dependabot-preview in #192
- Turn on dryRun mode for Sentry webpack plugin when in development mode. by @Coteh in #307
- Close server if db is closed by @Coteh in #317
- Revise all routes so that now they all return a specific content type, and remove all response type parameters. by @Coteh in #336

### Removed

- EXIF rotation from preview image and remove EXIF dependencies from frontend by @Coteh in #326

### Fixed

- Frontend webpack rebuild in dev stack config by @Coteh in #306

## [1.3.1] - 2021-07-24

### Fixed

- Missing CSRF token with image delete (#280)

## [1.3.0] - 2021-07-24

### Added

- Username check to signup form (#257) - @Coteh
- Signup to Upload Images mode (#253) (#267) - @mayankbucha
- Set username limit, with 24 as the default (#261) - @mayankbucha

### Changed

- Ensure a session secret is provided in production environment. (#270) - @Coteh
- Change Upload icon (#255) - @Coteh
- Update footer for 2021 (#260) - @Coteh
- Replace html encoding function with html-entities library. (#271) - @Coteh

### Fixed

- User dropdown on desktop nav for long and short usernames by locking its position to the right (#263) - @mayankbucha

### Security

- fix: package.json & package-lock.json to reduce vulnerabilities (ejs) (#275) - @snyk-bot

## [1.2.2] - 2021-06-02

### Changed

- Bump dotenv from 4.0.0 to 9.0.2 (#229)

### Fixed

- Garbled "Return to Homepage" text in error page (#254)

## [1.2.1] - 2021-05-16

### Added

- Google Analytics (Universal Analytics) to track website visits (#232)
- Debugger config (#189)

### Changed

- Update MongoDB version in docker-compose stack to match MongoDB Atlas (#231)
- Update run command in heroku.yml (d228c71)
- Various other dependency upgrades (see full diff)

### Fixed

- Crash when exiftran not found (#189)

## [1.2.0] - 2020-08-29

### Added

- User Images section to user profile (#137)
- Missing csrf field in settings view (#177)
- Secure attribute to cookie (#183)
- Test for new password being same as old password (#176)
- Settings button on mobile menu (#178)
- heroku.yml for automated Heroku deployment (#185)

### Changed

- Disable OWASP password strength check in dev (#175)
- Use development HTTPS server in dev (#184)
- Bump bcrypt version to v5.0.0 (#148)
- Update collecticons to v3.0.0 (#181)
- Various other dependency upgrades (see full diff)

### Removed

- fromUrl from settings-view endpoint (#139)

## [1.1.0] - 2020-05-22

### Added

- Change Password feature (#88)
- Auth module
- CSRF middleware (#58)
- Rate limiting (#64)
- CircleCI and fix all current failing tests (#91)

### Changed

- Replace logging system with winston (#72)
- Add more restrictions to getRedirectPath (#67)
- Update footer for 2020 (#71)
- Update webpack v3 to v4 (#46)

### Fixed

- Passwords over 72 characters truncated (#22)
- NoSQL injection with user login (#51)
- Missing variable declarations and semicolons (#50)
    
### Security

- Fix misc issues reported by lgtm (#66)
- Various npm vulnerabilities fixed (ie. bcrypt, bson, etc. had their security updates applied)

## [1.0.0] - 2018-10-18

Initial Release

[unreleased]: https://github.com/Coteh/simpleimage/compare/v1.5.6...HEAD
[1.5.6]: https://github.com/Coteh/simpleimage/compare/v1.5.5...v1.5.6
[1.5.5]: https://github.com/Coteh/simpleimage/compare/v1.5.4...v1.5.5
[1.5.4]: https://github.com/Coteh/simpleimage/compare/v1.5.3...v1.5.4
[1.5.3]: https://github.com/Coteh/simpleimage/compare/v1.5.2...v1.5.3
[1.5.2]: https://github.com/Coteh/simpleimage/compare/v1.5.1...v1.5.2
[1.5.1]: https://github.com/Coteh/simpleimage/compare/v1.5.0...v1.5.1
[1.5.0]: https://github.com/Coteh/simpleimage/compare/v1.4.0...v1.5.0
[1.4.0]: https://github.com/Coteh/simpleimage/compare/v1.3.1...v1.4.0
[1.3.1]: https://github.com/Coteh/simpleimage/compare/v1.3.0...v1.3.1
[1.3.0]: https://github.com/Coteh/simpleimage/compare/v1.2.2...v1.3.0
[1.2.2]: https://github.com/Coteh/simpleimage/compare/v1.2.1...v1.2.2
[1.2.1]: https://github.com/Coteh/simpleimage/compare/v1.2.0...v1.2.1
[1.2.0]: https://github.com/Coteh/simpleimage/compare/v1.1.0...v1.2.0
[1.1.0]: https://github.com/Coteh/simpleimage/compare/v1.0.0...v1.1.0
[1.0.0]: https://github.com/Coteh/simpleimage/releases/tag/v1.0.0
